<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Sketch</title>

    <link rel="stylesheet" type="text/css" href="style.css" />

    <script src="libraries/p5.min.js"></script>
    <script src="libraries/p5.sound.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.1.0/math.min.js"></script>
  </head>

  <body>
    <div class="top-container">
      <h1>Simple Grapher</h1>
    </div>

    <div class="content-container">
      <!-- Main content area (left) -->
      <div class="main-container">
        <div id="canvas-container"></div>
        <div class="span-container">
          <label for="xAxis">X:</label>
          <input type="number" id="xAxis" name="xAxis" min="0" value="20" onkeydown="updateSpanX(this)"/>
          
          <label for="yAxis">Y:</label>
          <input type="number" id="yAxis" name="yAxis" min="0" value="20" onkeydown="updateSpanY(this)"/>
        </div>
      </div>

      <!-- Right sidebar -->
      <div class="right-container">
        <input type="text" class="input" onkeydown="keydown(this)" />
        <div class="functions-container" id="functions-container">
          
        </div>
      </div>
    </div>

  
    <script>
      function keydown(elem) {
        if (event.keyCode == 13) {
          evaluateInput(elem.value);
          elem.value = "";
        }
      }
      function updateSpanX(elem){
        if(event.keyCode == 13) {
          updateXSpan(elem.value)
        }   
      }
      function updateSpanY(elem){
        if(event.keyCode == 13) {
          updateYSpan(elem.value)
        }   
      }


      document.querySelectorAll('.menu-button').forEach(button => {
        button.addEventListener('click', function () {
          let dropdown = this.nextElementSibling;
          dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
        });
      });

      // Hide dropdown when clicking outside
      document.addEventListener('click', function (event) {
        document.querySelectorAll('.dropdown-menu').forEach(menu => {
          if (!menu.parentElement.contains(event.target)) {
            menu.style.display = 'none';
          }
        });
      });

      function editFunction() {
        alert("Edit Function Clicked");
      }

      function deleteFunction() {
        alert("Delete Function Clicked");
      }
    </script>
    <script src="sketch.js"></script>
  </body>
  
</html>
